# Skyscape è‡ªå®šä¹‰ä¸æ‰©å±•æŒ‡å—

æœ¬æŒ‡å—å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä¸º Skyscape é¡¹ç›®æ·»åŠ è‡ªå®šä¹‰èµ„æºï¼ŒåŒ…æ‹¬ä¸‹è½½é«˜è´¨é‡çš„é£æœºæ¨¡å‹ã€æ›´æ¢åœ°å½¢è´´å›¾ä»¥åŠä¿®æ”¹å¤©ç©ºç›’ã€‚

---

## 1. âœˆï¸ æ›´æ¢é£æœºæ¨¡å‹

ç›®å‰çš„é£æœºæ¨¡å‹æ˜¯ä¸€ä¸ªç®€å•çš„ F-22 ä½æ¨¡ã€‚å¦‚æœä½ æƒ³æ¢æˆæ›´å¸…æ°”ã€æ›´é«˜ç²¾åº¦çš„æ¨¡å‹ï¼ˆå¦‚è‹-57ã€J-20 æˆ–ç§‘å¹»é£èˆ¹ï¼‰ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œã€‚

### ç¬¬ä¸€æ­¥ï¼šä¸‹è½½æ¨¡å‹
æ¨èå»ä»¥ä¸‹å…è´¹ 3D æ¨¡å‹ç½‘ç«™æœç´¢ï¼š
- **[Sketchfab](https://sketchfab.com/)** (æ¨èï¼Œè´¨é‡å¾ˆé«˜ï¼Œè®°å¾—å‹¾é€‰ "Downloadable")
- **[TurboSquid](https://www.turbosquid.com/)**
- **[Free3D](https://free3d.com/)**

**æœç´¢å…³é”®è¯**ï¼š`Fighter Jet`, `Spaceship`, `Aircraft`

**âš ï¸ å…³é”®è¦æ±‚**ï¼š
1. **æ ¼å¼**ï¼šå¿…é¡»åŒ…å« **`.obj`** æ ¼å¼ã€‚
2. **é¢æ•°**ï¼šå»ºè®®åœ¨ 5000 - 50000 é¢ä¹‹é—´ï¼ˆLow Poly åˆ° Mid Polyï¼‰ï¼Œå¤ªé«˜ä¼šå½±å“æ€§èƒ½ã€‚
3. **çº¹ç†**ï¼šæœ€å¥½è‡ªå¸¦ `.mtl` æˆ–çº¹ç†å›¾ç‰‡ï¼ˆè™½ç„¶æˆ‘ä»¬ç›®å‰çš„åŠ è½½å™¨ä¸»è¦è¯»å–å‡ ä½•ä½“ï¼Œä½†åç»­å¯ä»¥æ‰©å±•ï¼‰ã€‚

### ç¬¬äºŒæ­¥ï¼šå¤„ç†æ¨¡å‹ (é‡è¦)
ä¸‹è½½çš„æ¨¡å‹å¾€å¾€ä¸èƒ½ç›´æ¥ç”¨ï¼Œéœ€è¦ç”¨ **Blender** (å…è´¹è½¯ä»¶) ç®€å•å¤„ç†ä¸€ä¸‹ï¼š
1. æ‰“å¼€ Blenderï¼Œå¯¼å…¥ä¸‹è½½çš„æ¨¡å‹ã€‚
2. é€‰ä¸­æ¨¡å‹ï¼ŒæŒ‰ `Tab` è¿›å…¥ç¼–è¾‘æ¨¡å¼ã€‚
3. æŒ‰ `A` å…¨é€‰ã€‚
4. æŒ‰ `Ctrl + T` **å°†æ‰€æœ‰é¢ä¸‰è§’åŒ– (Triangulate Faces)**ã€‚æˆ‘ä»¬çš„åŠ è½½å™¨åªæ”¯æŒä¸‰è§’å½¢é¢ã€‚
5. å¯¼å‡ºä¸º `.obj`ï¼š
   - å‹¾é€‰ `Triangulate Faces` (å¦‚æœåˆšæ‰æ²¡åš)ã€‚
   - å‹¾é€‰ `Include Normals` (åŒ…å«æ³•çº¿)ã€‚
   - å‹¾é€‰ `Include UVs` (åŒ…å«çº¹ç†åæ ‡)ã€‚

### ç¬¬ä¸‰æ­¥ï¼šæ›¿æ¢æ–‡ä»¶
1. å°†å¯¼å‡ºçš„ `.obj` æ–‡ä»¶é‡å‘½åä¸º `airplane.obj`ã€‚
2. è¦†ç›–é¡¹ç›®ä¸­çš„ `assets/models/airplane.obj`ã€‚
3. é‡æ–°è¿è¡Œç¨‹åºã€‚

**â“ å¸¸è§é—®é¢˜**ï¼š
- **é£æœºå¤ªå°/å¤ªå¤§**ï¼šåœ¨ `src/world/Plane.cpp` çš„ `render()` å‡½æ•°ä¸­ï¼Œæ‰¾åˆ° `glm::scale`ï¼Œè°ƒæ•´ç¼©æ”¾å€æ•°ã€‚
- **é£æœºæ–¹å‘ä¸å¯¹**ï¼šåœ¨ `src/world/Plane.cpp` ä¸­ï¼Œæ‰¾åˆ° `glm::rotate`ï¼Œè°ƒæ•´æ—‹è½¬è§’åº¦ï¼ˆé€šå¸¸æ˜¯ç»• Y è½´æ—‹è½¬ 90 æˆ– 180 åº¦ï¼‰ã€‚

---

## 2. ğŸ”ï¸ ä¸ºåœ°å½¢æ·»åŠ çœŸå®çº¹ç†

ç›®å‰çš„åœ°å½¢æ˜¯æ ¹æ®é«˜åº¦è®¡ç®—é¢œè‰²çš„ï¼ˆç¨‹åºåŒ–ç€è‰²ï¼‰ã€‚å¦‚æœä½ æƒ³è´´ä¸ŠçœŸå®çš„è‰åœ°ã€å²©çŸ³å›¾ç‰‡ï¼Œéœ€è¦ä¿®æ”¹ä»£ç ã€‚

### ç¬¬ä¸€æ­¥ï¼šä¸‹è½½çº¹ç†
æ¨èç½‘ç«™ï¼ˆæä¾›å…è´¹ PBR æè´¨ï¼‰ï¼š
- **[PolyHaven](https://polyhaven.com/textures)**
- **[AmbientCG](https://ambientcg.com/)**

ä¸‹è½½ä½ å–œæ¬¢çš„æè´¨ï¼Œä¾‹å¦‚ï¼š
- `grass_diffuse.jpg` (è‰åœ°é¢œè‰²)
- `rock_diffuse.jpg` (å²©çŸ³é¢œè‰²)
- `snow_diffuse.jpg` (é›ªåœ°é¢œè‰²)

å°†å®ƒä»¬æ”¾å…¥ `assets/textures/terrain/` æ–‡ä»¶å¤¹ï¼ˆéœ€æ–°å»ºï¼‰ã€‚

### ç¬¬äºŒæ­¥ï¼šä¿®æ”¹ä»£ç åŠ è½½çº¹ç†
ä½ éœ€è¦ä¿®æ”¹ `src/world/InfiniteTerrain.cpp` æ¥åŠ è½½è¿™äº›å›¾ç‰‡ã€‚

**ä»£ç ç¤ºä¾‹ (ä¼ªä»£ç )**ï¼š
```cpp
// åœ¨ InfiniteTerrain.h ä¸­æ·»åŠ æˆå‘˜å˜é‡
unsigned int grassTexture, rockTexture;

// åœ¨æ„é€ å‡½æ•°æˆ– init() ä¸­åŠ è½½
#include "stb_image.h"

void loadTextures() {
    int width, height, nrChannels;
    unsigned char *data = stbi_load("assets/textures/terrain/grass_diffuse.jpg", &width, &height, &nrChannels, 0);
    
    glGenTextures(1, &grassTexture);
    glBindTexture(GL_TEXTURE_2D, grassTexture);
    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, width, height, 0, GL_RGB, GL_UNSIGNED_BYTE, data);
    glGenerateMipmap(GL_TEXTURE_2D);
    stbi_image_free(data);
    // å¯¹å²©çŸ³ã€é›ªåœ°é‡å¤æ­¤æ­¥éª¤...
}
```

### ç¬¬ä¸‰æ­¥ï¼šä¿®æ”¹ç€è‰²å™¨ (`infinite_terrain.frag`)
åœ¨ç‰‡æ®µç€è‰²å™¨ä¸­ï¼Œä¸å†ç›´æ¥è¾“å‡ºé¢œè‰²ï¼Œè€Œæ˜¯é‡‡æ ·çº¹ç†ã€‚

```glsl
// infinite_terrain.frag
uniform sampler2D grassMap;
uniform sampler2D rockMap;

void main() {
    vec3 color;
    if (Height < 15.0) {
        color = texture(grassMap, TexCoord).rgb; // éœ€è¦åœ¨é¡¶ç‚¹ç€è‰²å™¨ä¼ é€’ TexCoord
    } else {
        color = texture(rockMap, TexCoord).rgb;
    }
    // ... æ··åˆé€»è¾‘
    FragColor = vec4(color, 1.0);
}
```

---

## 3. ğŸŒ… è‡ªå®šä¹‰å¤©ç©ºç›’

æƒ³è¦ä»ç™½å¤©å˜æˆé»„æ˜æˆ–å®‡å®™ï¼Ÿ

### ç¬¬ä¸€æ­¥ï¼šä¸‹è½½å¤©ç©ºç›’
æœç´¢ "Skybox Cubemap"ï¼Œæ¨èä¸‹è½½ **6 å¼ ç‹¬ç«‹å›¾ç‰‡** çš„æ ¼å¼ã€‚
å‘½åé€šå¸¸ä¸ºï¼š`right`, `left`, `top`, `bottom`, `front`, `back`ã€‚

### ç¬¬äºŒæ­¥ï¼šæ›¿æ¢å›¾ç‰‡
å°†å›¾ç‰‡æ”¾å…¥ `assets/textures/skybox/`ï¼Œå¹¶ç¡®ä¿æ–‡ä»¶åä¸ä»£ç ä¸­ä¸€è‡´ï¼ˆé€šå¸¸æ˜¯ `.jpg` æ ¼å¼ï¼‰ã€‚

å¦‚æœä½ çš„å›¾ç‰‡æ˜¯ `.png`ï¼Œè¯·å» `src/world/Skybox.cpp` ä¸­ä¿®æ”¹åŠ è½½è·¯å¾„çš„åç¼€åã€‚

---

## 4. ğŸ”§ è°ƒæ•´åœ°å½¢å½¢çŠ¶

è§‰å¾—å±±ä¸å¤Ÿé«˜ï¼Ÿæˆ–è€…æƒ³è¦æ›´å¤šç»†èŠ‚ï¼Ÿ
ä¿®æ”¹ `src/world/InfiniteTerrain.cpp` ä¸­çš„ `getNoiseHeight` å‡½æ•°ã€‚

- **è°ƒæ•´æŒ¯å¹… (Amplitude)**ï¼šè®©å±±æ›´é«˜ã€‚
- **è°ƒæ•´é¢‘ç‡ (Frequency)**ï¼šè®©å±±æ›´å¯†é›†ã€‚
- **è°ƒæ•´ Octaves (å€é¢‘)**ï¼šå¢åŠ æ›´å¤šå¾®å°çš„ç»†èŠ‚ã€‚

```cpp
// ç¤ºä¾‹ï¼šè®©å±±æ›´é«˜
float height = 0;
height += glm::perlin(pos * 0.01f) * 64.0f; // 64.0f æ˜¯é«˜åº¦ç³»æ•°ï¼Œæ”¹å¤§å®ƒï¼
```

---

ç¥ä½ æ‰“é€ å‡ºç‹¬ä¸€æ— äºŒçš„é£è¡Œä¸–ç•Œï¼ğŸš€
